tag build-AmcCarrierBlen-0x00000002-20170516155131-leosap
Tagger: “Leonid <“leosap@slac.stanford.edu”>
Date:   Tue May 16 17:33:39 2017 -0700

PROJECT: AmcCarrierBlen

FW_VERSION: 0x00000002

BUILD_STRING: AmcCarrierBlen: Vivado v2016.4, x86_64, Built Tue May 16 15:51:31 PDT 2017 by leosap

commit 9f31c41a574bb1c579049fde776f95b3faf1ce18
Author: “Leonid <“leosap@slac.stanford.edu”>
Date:   Tue May 16 15:51:08 2017 -0700

    add DacSigGenerator to be instantiated on top level

diff --git a/firmware/targets/AmcCarrierBlen/config/defaultsPyro5-15-17a.yaml b/firmware/targets/AmcCarrierBlen/config/defaultsPyro5-15-17a.yaml
index f643175..836bbce 100644
--- a/firmware/targets/AmcCarrierBlen/config/defaultsPyro5-15-17a.yaml
+++ b/firmware/targets/AmcCarrierBlen/config/defaultsPyro5-15-17a.yaml
@@ -353,13 +353,13 @@
             - FormatSignWidth: !<value> 0x00
             - InputMuxSel: !<value>
                 - Ch0
-                - Ch0
                 - Ch1
                 - Ch2
-                - Test
+                - Ch3
                 - Ch0
                 - Ch1
                 - Ch2
+                - Ch3
             - DecimationRateDiv: !<value> 0x0000
             - DataBufferSize: !<value> 0x00001000
             - FreezeHwMask: !<value>
@@ -2868,13 +2868,13 @@
                     - 0x0
                     - 0x0
                     - 0x0
-                    - 0x0
-                    - 0x0
-                    - 0x0
                     - 0x1
                     - 0x1
                     - 0x0
-                    - 0x0
+                    - 0x1
+                    - 0x1
+                    - 0x1
+                    - 0x1
                     - 0x0
                     - 0x0
                     - 0x0
@@ -2886,19 +2886,19 @@
                     - 0x00
                     - 0x18
                     - 0x04
-                    - 0x00
+                    - 0x01
                     - 0x01
                     - 0x30
                     - 0x00
                     - 0x00
                     - 0x00
-                    - 0x30
+                    - 0x10
                     - 0x30
                     - 0x00
                     - 0x18
-                    - 0x00
-                    - 0x00
-                    - 0x30
+                    - 0x04
+                    - 0x01
+                    - 0x01
                     - 0x30
                     - 0x00
                     - 0x00
@@ -2915,11 +2915,11 @@
                     - 0x000
                     - 0x000
                     - 0x000
-                    - 0x000
+                    - 0x004
                     - 0x000
                     - 0x000
                     - 0x040
-                    - 0x000
+                    - 0x040
                     - 0x000
                     - 0x000
                     - 0x000
@@ -2938,11 +2938,11 @@
                     - 0x0
                     - 0x0
                     - 0x0
-                    - 0x0
+                    - 0x1
                     - 0x0
                     - 0x0
                     - 0x1
-                    - 0x0
+                    - 0x1
                     - 0x0
                     - 0x0
                     - 0x0
@@ -2955,18 +2955,18 @@
                     - 0x0
                     - 0x1
                     - 0x1
-                    - 0x0
+                    - 0x1
                     - 0x1
                     - 0x3
                     - 0x0
                     - 0x0
                     - 0x0
                     - 0x1
-                    - 0x3
-                    - 0x0
                     - 0x1
                     - 0x0
-                    - 0x0
+                    - 0x1
+                    - 0x1
+                    - 0x1
                     - 0x1
                     - 0x3
                     - 0x0
@@ -2978,27 +2978,27 @@
                     - 0x00
                     - 0x18
                     - 0x00
-                    - 0x00
+                    - 0x70
                     - 0x00
                     - 0x18
                     - 0x00
                     - 0x00
                     - 0x00
-                    - 0x18
+                    - 0x3c
                     - 0x18
                     - 0x00
                     - 0x18
                     - 0x00
+                    - 0x70
                     - 0x00
                     - 0x18
-                    - 0x18
                     - 0x00
                     - 0x00
                     - 0x00
         - SysGen:
             - DspPreprocConfig:
                 - Mode: !<value> 0x1
-                - DacSrs: !<value> 0x1
+                - DacSrs: !<value> 0x0
                 - ADCSimEn: !<value> 0x0
                 - SimTmit: !<value>
                    - 0x64
@@ -3113,7 +3113,7 @@
                     - 0
                     - 0
                 - CoefA0: !<value>
-                    - 2.338169906579424e-06
+                    - 4.338169906579424e-03
                     - 0
 
                                 
diff --git a/firmware/targets/AmcCarrierBlen/yaml/000TopLevel.yaml b/firmware/targets/AmcCarrierBlen/yaml/000TopLevel.yaml
index 7a07d3b..84bdcf0 100644
--- a/firmware/targets/AmcCarrierBlen/yaml/000TopLevel.yaml
+++ b/firmware/targets/AmcCarrierBlen/yaml/000TopLevel.yaml
@@ -31,6 +31,8 @@ mmio: &mmio
       at:
         offset: 0x80000000
       children: 
+        DacSigGen:
+          instantiate: true               
         AppTopJesd:
           children:
             JesdRx:
diff --git a/set_submodule_tags b/set_submodule_tags
index 1c115b1..7b7c0fc 100755
--- a/set_submodule_tags
+++ b/set_submodule_tags
@@ -39,6 +39,7 @@ for i in range(len(tagConfig)):
     cmd += 'pwd; '
     cmd += 'git fetch; '
     cmd += 'git checkout ' + tagConfig[i][1] + '; '
+    cmd += 'git pull; '
     cmd += 'cd ' + os.getcwd() + '; '
     cmd += 'git add ' + (os.getcwd() + tagConfig[i][0]) + '; '
     # Execut the list of commands
